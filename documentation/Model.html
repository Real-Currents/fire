<!DOCTYPE html>

<html lang="en">
<head>
	<meta charset="utf-8"/>
	<title>Documentation Class: Model - Node on Fire</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="/bower_components/bootstrap/dist/css/bootstrap.min.css"/>
	<link rel="stylesheet" href="/styles/default.css"/>
</head>

<body>
	<nav class="navbar navbar-default navbar-fixed-top">
		<div class="container-fluid">
			<div class="col-md-8 col-md-offset-2">
				<ul class="nav navbar-nav">
					<li><a href="/">Home</a></li>
					<li><a href="/getting-started">Getting Started</a></li>
					<li class="active"><a href="/documentation">Documentation</a></li>
					<li><a href="/examples">Examples</a></li>
					<li><a href="/tutorials">Tutorials</a></li>
				</ul>
			</div>
		</div>
	</nav>

	<div class="container-fluid">
		<div class="row">
			<div class="col-md-offset-1 col-md-3">
				
				<div id="toc"></div>
				
			</div>

			<div id="main" class="col-md-7">
				


	<h1 class="page-title">Class: Model</h1>
<section>

<header>
    <h2>
    Model
    </h2>
    
</header>

<article>
    <div class="container-overview">
    

    
        
<dt>
    <h4 class="name" id="Model"><span class="type-signature"></span>new Model<span class="signature">(name, models, activeMigration)</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>The model is a collection of properties and associations. Through a model you can find, update, create and delete model instances.</p>
<p>Do not constructor a Model yourself, instead, you can construct a model via <a href="App.html#model">App#model</a>.</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>name</code></td>
            

            <td class="type">
            
                
<span class="label label-primary param-type">String</span>



            
            </td>

            

            

            <td class="description last"></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>models</code></td>
            

            <td class="type">
            
                
<span class="label label-primary param-type"><a href="Models.html">Models</a></span>



            
            </td>

            

            

            <td class="description last"></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>activeMigration</code></td>
            

            <td class="type">
            
                
<span class="label label-primary param-type"><a href="Migration.html">Migration</a></span>



            
            </td>

            

            

            <td class="description last"></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
	

	

	

	

	

	

	

	

	



	

	

	

	
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

    
    </div>

    

    

    

    

    

    

    
        <h3 class="subsection-title">Methods</h3>

        <dl>
            
<dt>
    <h4 class="name" id="_addProperty"><span class="type-signature"></span>_addProperty<span class="signature">(propertyName, propertyTypes, isNew)</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Creates a new property and returns it.</p>
<p>If no property types are supplied this method returns null.</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>propertyName</code></td>
            

            <td class="type">
            
                
<span class="label label-primary param-type">String</span>



            
            </td>

            

            

            <td class="description last"><p>The name of the new property.</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>propertyTypes</code></td>
            

            <td class="type">
            
                
<span class="label label-primary param-type">Array:<a href="global.html"></a>.&lt;PropertyType:<a href="global.html"></a>></span>



            
            </td>

            

            

            <td class="description last"><p>The property types of the new property.</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>isNew</code></td>
            

            <td class="type">
            
                
<span class="label label-primary param-type">Boolean</span>



            
            </td>

            

            

            <td class="description last"><p>True if the property is newly added to the model, otherwise false.</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
	

	

	

	

	

	

	

	

	



	

	

	

	
</dl>

    
    

    

    
    
    
    
    
    <h5>Returns:</h5>
    
            


<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="label label-primary param-type"><a href="Property.html">Property</a></span>



	</dd>
</dl>


        
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="addProperty"><span class="type-signature"></span>addProperty<span class="signature">(property, isNew)</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Adds a property to the model.</p>
<p>If a migration is running, passes the property to the migration.</p>
<p>If the property is an association, stores the association internally.</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>property</code></td>
            

            <td class="type">
            
                
<span class="label label-primary param-type"><a href="Property.html">Property</a></span>



            
            </td>

            

            

            <td class="description last"><p>The property to add.</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>isNew</code></td>
            

            <td class="type">
            
                
<span class="label label-primary param-type">Boolean</span>



            
            </td>

            

            

            <td class="description last"><p>True if the property is newly added to the model, otherwise false.</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
	

	

	

	

	

	

	

	

	



	

	

	

	
</dl>

    
    

    

    
    
    
    
    
    <h5>Returns:</h5>
    
            


<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="label label-primary param-type"><a href="Property.html">Property</a></span>



	</dd>
</dl>


        
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="findAssociationsTo"><span class="type-signature"></span>findAssociationsTo<span class="signature">(model, <span class="optional">linkedPropertyName</span>)</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Returns all properties which are associations to @model. Optionally only the association properties which name matches linkedPropertyName.</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		
		<th>Argument</th>
		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>model</code></td>
            

            <td class="type">
            
                
<span class="label label-primary param-type"><a href="Model.html">Model</a></span>



            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>The model.</p></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>linkedPropertyName</code></td>
            

            <td class="type">
            
                
<span class="label label-primary param-type">String</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>[description]</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
	

	

	

	

	

	

	

	

	



	

	

	

	
</dl>

    
    

    

    
    
    
    
    
    <h5>Returns:</h5>
    
            


<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="label label-primary param-type">Array:<a href="global.html"></a>.&lt;<a href="Property.html">Property</a>:<a href="global.html"></a>></span>



	</dd>
</dl>


        
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="findOne"><span class="type-signature"></span>findOne<span class="signature">(whereMap, optionsMap)</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Finds one model instance.</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>whereMap</code></td>
            

            <td class="type">
            
                
<span class="label label-primary param-type">Dictionary</span>



            
            </td>

            

            

            <td class="description last"></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>optionsMap</code></td>
            

            <td class="type">
            
                
<span class="label label-primary param-type">Dictionary</span>



            
            </td>

            

            

            <td class="description last"></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
	

	

	

	

	

	

	

	

	



	

	

	

	
</dl>

    
    

    

    
    
    
    
    
    <h5>Returns:</h5>
    
            


<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="label label-primary param-type">Promise</span>



	</dd>
</dl>


        
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="getAllAssociations"><span class="type-signature"></span>getAllAssociations<span class="signature">()</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Returns all the property names-property pairs which are part of an association.</p>
    </div>
    

    
    
    
    
    
    
    
<dl class="details">
	

	

	

	

	

	

	

	

	



	

	

	

	
</dl>

    
    

    

    
    
    
    
    
    <h5>Returns:</h5>
    
            


<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="label label-primary param-type">Dictionary</span>



	</dd>
</dl>


        
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="getAllProperties"><span class="type-signature"></span>getAllProperties<span class="signature">()</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Returns all properties in a string-property dictionary.</p>
<p>If the properties are not initialised yet, this internally creates the properties. In this phase the default <code>id</code> property is also created.</p>
    </div>
    

    
    
    
    
    
    
    
<dl class="details">
	

	

	

	

	

	

	

	

	



	

	

	

	
</dl>

    
    

    

    
    
    
    
    
    <h5>Returns:</h5>
    
            


<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="label label-primary param-type">Dictionary:<a href="global.html"></a>.&lt;String:<a href="global.html"></a>, <a href="Property.html">Property</a>:<a href="global.html"></a>></span>



	</dd>
</dl>


        
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="getAssociation"><span class="type-signature"></span>getAssociation<span class="signature">(associationName)</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Returns a property which is an association.</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>associationName</code></td>
            

            <td class="type">
            
                
<span class="label label-primary param-type">String</span>



            
            </td>

            

            

            <td class="description last"><p>The name of the property</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
	

	

	

	

	

	

	

	

	



	

	

	

	
</dl>

    
    

    

    
    
    
    
    
    <h5>Returns:</h5>
    
            


<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="label label-primary param-type"><a href="Property.html">Property</a></span>



	</dd>
</dl>


        
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="getAssociations"><span class="type-signature"></span>getAssociations<span class="signature">()</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Synonym of <a href="Model.html#getAllAssociations">Model#getAllAssociations</a>.</p>
    </div>
    

    
    
    
    
    
    
    
<dl class="details">
	

	

	

	

	

	

	

	

	



	

	

	

	
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="getFileName"><span class="type-signature"></span>getFileName<span class="signature">()</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Dasherizes the model's name as the naming convention of the file name (without the extension).</p>
    </div>
    

    
    
    
    
    
    
    
<dl class="details">
	

	

	

	

	

	

	

	

	



	

	

	

	
</dl>

    
    

    

    
    
    
    
    
    <h5>Returns:</h5>
    
            


<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="label label-primary param-type">String</span>



	</dd>
</dl>


        
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="getName"><span class="type-signature"></span>getName<span class="signature">()</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Returns the name of the model.</p>
    </div>
    

    
    
    
    
    
    
    
<dl class="details">
	

	

	

	

	

	

	

	

	



	

	

	

	
</dl>

    
    

    

    
    
    
    
    
    <h5>Returns:</h5>
    
            


<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="label label-primary param-type">String</span>



	</dd>
</dl>


        
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="getOne"><span class="type-signature"></span>getOne<span class="signature">()</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Finds and resolves one model instance. See <a href="Model.html#findOne">Model#findOne</a>.</p>
<p>This model is similar to Model#findOne, expect that it always resolves with a model instance, or rejects the returned promise. This is useful in certain flows where you don't want to check if a model instance is null.</p>
    </div>
    

    
    
    
    
    
    
    
<dl class="details">
	

	

	

	

	

	

	

	

	



	

	

	

	
</dl>

    
    

    

    
    
    
    
    
    <h5>Returns:</h5>
    
            


<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="label label-primary param-type">Promise</span>



	</dd>
</dl>


        
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="getProperty"><span class="type-signature"></span>getProperty<span class="signature">(keyPath)</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Finds a property with a given key path. A key path is a string referring to a property or a property of any association.</p>
<p>For example, given an Article model with an author association to the User model. The following key path would refer to the author's name: &quot;author.name&quot;.</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>keyPath</code></td>
            

            <td class="type">
            
                
<span class="label label-primary param-type">String</span>



            
            </td>

            

            

            <td class="description last"></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
	

	

	

	

	

	

	

	

	



	

	

	

	
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="getTable"><span class="type-signature"></span>getTable<span class="signature">()</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Returns the table.</p>
    </div>
    

    
    
    
    
    
    
    
<dl class="details">
	

	

	

	

	

	

	

	

	



	

	

	

	
</dl>

    
    

    

    
    
    
    <h5>Throws:</h5>
    
            

<dl>
    <dt>
        <div class="param-desc">
        If table is not set.
        </div>
    </dt>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="label label-primary param-type">Error</span>



            </dd>
        </dl>
    </dt>
</dl>


        
    
    
    <h5>Returns:</h5>
    
            


<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="label label-primary param-type"><a href="Table.html">Table</a></span>



	</dd>
</dl>


        
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="isAuthenticator"><span class="type-signature"></span>isAuthenticator<span class="signature">()</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Returns true if this model is the authenticator. The authenticator is, for example, the User model. This is defined by setting the <a href="global.html#PropertyTypes#Authenticate">PropertyTypes#Authenticate</a> property type.</p>
<p>If you need to get the authenticator model, use <a href="Models.html#getAuthenticator">Models#getAuthenticator</a>.</p>
    </div>
    

    
    
    
    
    
    
    
<dl class="details">
	

	

	

	

	

	

	

	

	



	

	

	

	
</dl>

    
    

    

    
    
    
    
    
    <h5>Returns:</h5>
    
            


<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="label label-primary param-type">Boolean</span>



	</dd>
</dl>


        
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="removeAllAssociations"><span class="type-signature"></span>removeAllAssociations<span class="signature">()</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Removes all properties which are part of an association.</p>
<p>This method is invoked when a model gets destroyed during a migration.</p>
    </div>
    

    
    
    
    
    
    
    
<dl class="details">
	

	

	

	

	

	

	

	

	



	

	

	

	
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="removeProperty"><span class="type-signature"></span>removeProperty<span class="signature">(property)</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Removes a property from this model with the name of the property. If the property to be removed is part of an association, also removes the association from the model and removes the property to this model from the associated model.</p>
<p>If an active migration is set, sends the removal to the migration.</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>property</code></td>
            

            <td class="type">
            
                
<span class="label label-primary param-type"><a href="Property.html">Property</a></span>



            
            </td>

            

            

            <td class="description last"><p>The property to remove.</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
	

	

	

	

	

	

	

	

	



	

	

	

	
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="setActiveMigration"><span class="type-signature"></span>setActiveMigration<span class="signature">(migration)</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Sets the active migration. When an active migration is set, all calls are proxied to the migration instead.</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>migration</code></td>
            

            <td class="type">
            
                
<span class="label label-primary param-type"><a href="Migration.html">Migration</a></span>



            
            </td>

            

            

            <td class="description last"><p>The currently running migration.</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
	

	

	

	

	

	

	

	

	



	

	

	

	
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="setTable"><span class="type-signature"></span>setTable<span class="signature">(table)</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Sets the table of the model.</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>table</code></td>
            

            <td class="type">
            
                
<span class="label label-primary param-type"><a href="Table.html">Table</a></span>



            
            </td>

            

            

            <td class="description last"></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
	

	

	

	

	

	

	

	

	



	

	

	

	
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        </dl>
    

    

    
</article>

</section>




			</div>
		</div>

		<div class="row">
			<div class="col-md-offset-4 col-md-7">
				<p class="expl disqus-expl">Do you have any questions or comments on this page? Start a discussion below.</p>

			    <div id="disqus_thread"></div>
				<script type="text/javascript">
    			var disqus_shortname = 'nodeonfire';
    			(function() {
        			var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        			dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        			(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    			})();
				</script>
				<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
			</div>
		</div>

		<div class="row">
			<div class="col-md-offset-4 col-md-7">
				This is the footer.
			</div>
		</div>
	</div>

	<script src="/bower_components/jquery/dist/jquery.min.js"></script>
	<script src="/bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
	<script src="scripts/toc.js"></script>
	<script>
		$( function () {
			$( "#toc" ).toc( {
				anchorName  : function ( i, heading, prefix ) {
					return $( heading ).attr( "id" ) || ( prefix + i );
				},
				selectors   : "h1,h2,h3,h4",
				showAndHide : false,
				scrollTo    : "0px"
			} );

			$( "[id*='$']" ).each( function () {
				var $this = $( this );

				$this.attr( "id", $this.attr( "id" ).replace( "$", "__" ) );
			} );
		} );
	 </script>

<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-52717773-3', 'auto');
ga('send', 'pageview');
</script>

</body>
</html>