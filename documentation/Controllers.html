<!DOCTYPE html>

<html lang="en">
<head>
	<meta charset="utf-8"/>
	<title>Documentation Class: Controllers - Node on Fire</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="/bower_components/bootstrap/dist/css/bootstrap.min.css"/>
	<link rel="stylesheet" href="/styles/default.css"/>
</head>

<body>
	<nav class="navbar navbar-default navbar-fixed-top">
		<div class="container-fluid">
			<div class="col-md-8 col-md-offset-2">
				<ul class="nav navbar-nav">
					<li><a href="/">Home</a></li>
					<li><a href="/getting-started">Getting Started</a></li>
					<li class="active"><a href="/documentation">Documentation</a></li>
					<li><a href="/examples">Examples</a></li>
					<li><a href="/tutorials">Tutorials</a></li>
				</ul>
			</div>
		</div>
	</nav>

	<div class="container-fluid">
		<div class="row">
			<div class="col-md-offset-1 col-md-3">
				
				<div id="toc"></div>
				
			</div>

			<div id="main" class="col-md-7">
				


	<h1 class="page-title">Class: Controllers</h1>
<section>

<header>
    <h2>
    Controllers
    </h2>
    
</header>

<article>
    <div class="container-overview">
    

    
        
<dt>
    <h4 class="name" id="Controllers"><span class="type-signature"></span>new Controllers<span class="signature">(app)</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>The Controllers module.</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>app</code></td>
            

            <td class="type">
            
                
<span class="label label-primary param-type"><a href="App.html">App</a></span>



            
            </td>

            

            

            <td class="description last"><p>The app initializing this module.</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
	

	

	

	

	

	

	

	

	



	

	

	

	
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

    
    </div>

    

    

    

    

    

    

    
        <h3 class="subsection-title">Methods</h3>

        <dl>
            
<dt>
    <h4 class="name" id="addRoute"><span class="type-signature"></span>addRoute<span class="signature">(route)</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>This is a route delegate method and is invoked whenever the router creates a route for a controller's method.</p>
<p>If the route is a view route, two GET routes are created. A method is considered a view route if the method's name starts with view and returns a Template instance.</p>
<pre class="prettyprint source"><code>    1. A route to the template returned by the view method.
    2. A route to the viewâ€”returning the application's main view.</code></pre><p>Consider the following view method:</p>
<pre class="prettyprint source lang-js"><code>TestController.prototype.view = function() {
    return this.template('index.jade');
};</code></pre><p>This view method would produce a route to <code>GET /</code> returning the app's view and a route to <code>GET /templates/index.jade</code> returning the compiled template.</p>
<p>The app's default view is view.jade and is used as main template in angular. The view should contain the ngApp and ngView directives.</p>
<p>If the route is not a view route, a controller route is created.</p>
<p>When a request matches the route, roughly the following happens:</p>
<pre class="prettyprint source"><code>1. A controller is allocated and initialized.
2. Controller#configure() is called with the NODE_ENV.
3. Controller#before is called.
4. The controller's method the route is linked to is called.
5. The return value of the controller's method is send as JSON to the client.
6. Controller#after is called.</code></pre><p>If during any of the steps an error occurs, an error is send with a proper HTTP status code.</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>route</code></td>
            

            <td class="type">
            
                
<span class="label label-primary param-type">Route</span>



            
            </td>

            

            

            <td class="description last"><p>The route to be added.</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
	

	

	

	

	

	

	

	

	



	

	

	

	
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="controller"><span class="type-signature"></span>controller<span class="signature">(controllerConstructor)</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Sets up a controller.</p>
<p>The <code>controllerConstructor</code> gets inherited by <a href="Controller.html">Controller</a> and the constructor gets added to the system so routes can be generated and additional code can be generated.</p>
<p>Please note: the constructor itself, is <strong>never</strong> executed in the server-context. Instead, the constructor is passed to angular's controller method and a controller is created on the client-context.</p>
<pre class="prettyprint source lang-js"><code>function MyController($scope) {
    console.log(MyController);
}
app.controller(MyController);

MyController.prototype.view = function() {
    return this.template('index');
};</code></pre><p>The Bridge module is responsible for generating the client-context controller. This Controllers module checks the controllerConstructor's prototype and creates any routes.</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>controllerConstructor</code></td>
            

            <td class="type">
            
                
<span class="label label-primary param-type">Constructor</span>



            
            </td>

            

            

            <td class="description last"><p>The named controller constructor.</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
	

	

	

	

	

	

	

	

	



	

	

	

	
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        </dl>
    

    

    
</article>

</section>




			</div>
		</div>

		<div class="row">
			<div class="col-md-offset-4 col-md-7">
				<p class="expl disqus-expl">Do you have any questions or comments on this page? Start a discussion below.</p>

			    <div id="disqus_thread"></div>
				<script type="text/javascript">
    			var disqus_shortname = 'nodeonfire';
    			(function() {
        			var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        			dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        			(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    			})();
				</script>
				<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
			</div>
		</div>

		<div class="row">
			<div class="col-md-offset-4 col-md-7">
				This is the footer.
			</div>
		</div>
	</div>

	<script src="/bower_components/jquery/dist/jquery.min.js"></script>
	<script src="/bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
	<script src="scripts/toc.js"></script>
	<script>
		$( function () {
			$( "#toc" ).toc( {
				anchorName  : function ( i, heading, prefix ) {
					return $( heading ).attr( "id" ) || ( prefix + i );
				},
				selectors   : "h1,h2,h3,h4",
				showAndHide : false,
				scrollTo    : "0px"
			} );

			$( "[id*='$']" ).each( function () {
				var $this = $( this );

				$this.attr( "id", $this.attr( "id" ).replace( "$", "__" ) );
			} );
		} );
	 </script>

<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-52717773-3', 'auto');
ga('send', 'pageview');
</script>

</body>
</html>