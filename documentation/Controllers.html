<!DOCTYPE html>

<html lang="en">
<head>
	<meta charset="utf-8"/>
	<title>Documentation Class: Controllers</title>
	<link rel="stylesheet" href="bower_components/bootstrap/dist/css/bootstrap.min.css"/>
	<script src="bower_components/jquery/dist/jquery.min.js"></script>
	<script src="bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
	<style>
	body {
		padding-top:50px;
	}
	.navbar {
		background:#fff;
	}
	.nav .toc-h1 {
		margin-top:20px;
	}
	.nav .toc-h1 a {
		color:rgb(51, 51, 51);
		font-weight:600;
		display:inline;
	}
	.nav .toc-h3 {
		margin-top:10px;
	}
	.nav .toc-h3 a {
		color:rgb(51, 51, 51);
		font-weight:500;
		display:inline;
	}
	.nav .toc-h3 a:hover, .nav .toc-h1 a:hover {
		background:none;
	}
	#toc.affix {
		position: static;
		width: auto;
		top: 0;
	}
	.label.label-primary a {
		color:#fff;
	}
	span.type-signature {
		/* I really dislike this bit */
		display:none;
	}
	</style>
</head>

<body>
	<nav class="navbar navbar-default navbar-fixed-top">
		<div class="container-fluid">
			<div class="col-md-8 col-md-offset-2">
				<ul class="nav navbar-nav">
					<li><a href="/">Home</a></li>
					<li class="active"><a href="/documentation">Documentation</a></li>
					<li><a href="/examples">Examples</a></li>
					<li><a href="/tutorials">Tutorials</a></li>
				</ul>
			</div>
		</div>
	</nav>

	<div class="container-fluid">
		<div class="row">
			<div class="col-md-offset-1 col-md-3">
				
				<a href="/documentation">Back to documentation</a>

				<div data-spy="affix" id="toc"></div>
				
			</div>

			<div id="main" class="col-md-7">
				


	<h1 class="page-title">Class: Controllers</h1>
<section>

<header>
    <h2>
    Controllers
    </h2>
    
</header>

<article>
    <div class="container-overview">
    

    
        
<dt>
    <h4 class="name" id="Controllers"><span class="type-signature"></span>new Controllers<span class="signature">(app)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>The Controllers module.</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>app</code></td>
            

            <td class="type">
            
                
<span class="label label-primary param-type"><a href="App.html">App</a></span>



            
            </td>

            

            

            <td class="description last"><p>The app initializing this module.</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
	

	

	

	

	

	

	

	

	



	

	

	

	
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

    
    </div>

    

    

    

    

    

    

    
        <h3 class="subsection-title">Methods</h3>

        <dl>
            
<dt>
    <h4 class="name" id="addControllerConstructor"><span class="type-signature"></span>addControllerConstructor<span class="signature">(controllerConstructor)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Adds <code>controllerConstructor</code> to the load queue, or loads the constructor if setup already finished.</p>
<p>If the controllers are already loaded (the setup is finished) immediately loads a controller. Because the constructor's prototype might not be completely set yet, this method delays execution with a setImmediate.</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>controllerConstructor</code></td>
            

            <td class="type">
            
                
<span class="label label-primary param-type">Constructor</span>



            
            </td>

            

            

            <td class="description last"><p>The controller constructor to be loaded.</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
	

	

	

	

	

	

	

	

	



	

	

	

	
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="addRoute"><span class="type-signature"></span>addRoute<span class="signature">(route)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>This is a route delegate method and is invoked whenever the router creates a route for a controller's method.</p>
<p>If the route is a view route, two GET routes are created. A method is considered a view route if the method's name starts with view and returns a Template instance.</p>
<pre class="prettyprint source"><code>    1. A route to the template returned by the view method.
    2. A route to the viewâ€”returning the application's main view.</code></pre><p>Consider the following view method:</p>
<pre class="prettyprint source lang-js"><code>TestController.prototype.view = function() {
    return this.template('index.jade');
};</code></pre><p>This view method would produce a route to <code>GET /</code> returning the app's view and a route to <code>GET /templates/index.jade</code> returning the compiled template.</p>
<p>The app's default view is view.jade and is used as main template in angular. The view should contain the ngApp and ngView directives.</p>
<p>If the route is not a view route, a controller route is created.</p>
<p>When a request matches the route, roughly the following happens:</p>
<pre class="prettyprint source"><code>1. A controller is allocated and initialized.
2. Controller#configure() is called with the NODE_ENV.
3. Controller#before is called.
4. The controller's method the route is linked to is called.
5. The return value of the controller's method is send as JSON to the client.
6. Controller#after is called.</code></pre><p>If during any of the steps an error occurs, an error is send with a proper HTTP status code.</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>route</code></td>
            

            <td class="type">
            
                
<span class="label label-primary param-type"><a href="Route.html">Route</a></span>



            
            </td>

            

            

            <td class="description last"><p>The route to be added.</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
	

	

	

	

	

	

	

	

	



	

	

	

	
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="controller"><span class="type-signature"></span>controller<span class="signature">(controllerConstructor)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Sets up a controller.</p>
<p>The <code>controllerConstructor</code> gets inherited by Controller and the constructor gets added to the system so routes can be generated and additional code can be generated.</p>
<p>Please note: the constructor itself, is <strong>never</strong> executed in the server-context. Instead, the constructor is passed to angular's controller method and a controller is created on the client-context.</p>
<pre class="prettyprint source lang-js"><code>function MyController($scope) {
    console.log(MyController);
}
app.controller(MyController);

MyController.prototype.view = function() {
    return this.template('index');
};</code></pre><p>The Bridge module is responsible for generating the client-context controller. This Controllers module checks the controllerConstructor's prototype and creates any routes.</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>controllerConstructor</code></td>
            

            <td class="type">
            
                
<span class="label label-primary param-type">Constructor</span>



            
            </td>

            

            

            <td class="description last"><p>The named controller constructor.</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
	

	

	

	

	

	

	

	

	



	

	

	

	
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="forEach"><span class="type-signature"></span>forEach<span class="signature">(callback(controllerConstructor))</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Convenience method to loop over all controllers.</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>callback(controllerConstructor)</code></td>
            

            <td class="type">
            
                
<span class="label label-primary param-type">function</span>



            
            </td>

            

            

            <td class="description last"><p>The callback function is invoked for every controller.</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
	

	

	

	

	

	

	

	

	



	

	

	

	
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="loadControllerConstructor"><span class="type-signature"></span>loadControllerConstructor<span class="signature">(controllerConstructor, fullPath)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Loads the controller and creates the routes based on the controller's methods.</p>
<p>There is no separate routing table, but the router creates the routes based on the controllers' methods. For more information on route, see Router.</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>controllerConstructor</code></td>
            

            <td class="type">
            
                
<span class="label label-primary param-type">Constructor</span>



            
            </td>

            

            

            <td class="description last"></td>
        </tr>

	

        <tr>
            
                <td class="name"><code>fullPath</code></td>
            

            <td class="type">
            
                
<span class="label label-primary param-type">String</span>



            
            </td>

            

            

            <td class="description last"><p>The path to the constructor's file</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
	

	

	

	

	

	

	

	

	



	

	

	

	
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="setup"><span class="type-signature"></span>setup<span class="signature">(basePath)</span><span class="type-signature"> &rarr; {Promise}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Loads all files in the <code>controllers/</code> directory and sets up all already loaded controllers.</p>
<p>Setup is invoked by the app when it's starting up.</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>basePath</code></td>
            

            <td class="type">
            
                
<span class="label label-primary param-type">String</span>



            
            </td>

            

            

            <td class="description last"><p>The root path of the project.</p></td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
	

	

	

	

	

	

	

	

	



	

	

	

	
</dl>

    
    

    

    
    
    
    
    
    <h5>Returns:</h5>
    
            


<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="label label-primary param-type">Promise</span>



	</dd>
</dl>


        
    
    
</dd>

        </dl>
    

    

    
</article>

</section>




			</div>
		</div>

		<div class="row">
			<div class="col-md-offset-4 col-md-7">
				This is the footer.
			</div>
		</div>
	</div>

	<script src="scripts/docstrap.lib.js"></script>
	<script src="scripts/toc.js"></script>

	<script>
		$( function () {
			$( "[id*='$']" ).each( function () {
				var $this = $( this );

				$this.attr( "id", $this.attr( "id" ).replace( "$", "__" ) );
			} );

			$( "#toc" ).toc( {
				anchorName  : function ( i, heading, prefix ) {
					return $( heading ).attr( "id" ) || ( prefix + i );
				},
				selectors   : "h1,h2,h3,h4",
				showAndHide : false,
				scrollTo    : "0px"
			} );

			$( "#toc>ul" ).addClass( "nav nav-stacked" );
		} );
	 </script>



	<!--Navigation and Symbol Display-->
	


	

</body>
</html>